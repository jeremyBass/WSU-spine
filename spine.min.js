/*! wsu-spine 0.1.0 2014-01-09 */
/*  See https://github.com/washingtonstateuniversity/WSU-spine/ for full source.*/
function dump(a,b){var c,d,e,f,g="";for(b||(b=0),c="",d=0;b+1>d;d++)c+=" ";if("object"==typeof a)for(e in a)f=a[e],"object"==typeof f?(g+=c+"'"+e+"' ...\n",g+=dump(f,b+1)):g+=c+"'"+e+"' => \""+f+'"\n';else g="===>"+a+"<===("+typeof a+")";return g}window.Modernizr=function(a,b,c){function d(a){s.cssText=a}function e(a,b){return typeof a===b}function f(a,b){return!!~(""+a).indexOf(b)}function g(a,b){for(var d in a){var e=a[d];if(!f(e,"-")&&s[e]!==c)return"pfx"==b?e:!0}return!1}function h(a,b,d){for(var f in a){var g=b[a[f]];if(g!==c)return d===!1?a[f]:e(g,"function")?g.bind(d||b):g}return!1}function i(a,b,c){var d=a.charAt(0).toUpperCase()+a.slice(1),f=(a+" "+v.join(d+" ")+d).split(" ");return e(b,"string")||e(b,"undefined")?g(f,b):(f=(a+" "+w.join(d+" ")+d).split(" "),h(f,b,c))}var j,k,l,m="2.7.0",n={},o=!0,p=b.documentElement,q="modernizr",r=b.createElement(q),s=r.style,t=({}.toString," -webkit- -moz- -o- -ms- ".split(" ")),u="Webkit Moz O ms",v=u.split(" "),w=u.toLowerCase().split(" "),x={svg:"http://www.w3.org/2000/svg"},y={},z=[],A=z.slice,B=function(a,c,d,e){var f,g,h,i,j=b.createElement("div"),k=b.body,l=k||b.createElement("body");if(parseInt(d,10))for(;d--;)h=b.createElement("div"),h.id=e?e[d]:q+(d+1),j.appendChild(h);return f=["&#173;",'<style id="s',q,'">',a,"</style>"].join(""),j.id=q,(k?j:l).innerHTML+=f,l.appendChild(j),k||(l.style.background="",l.style.overflow="hidden",i=p.style.overflow,p.style.overflow="hidden",p.appendChild(l)),g=c(j,a),k?j.parentNode.removeChild(j):(l.parentNode.removeChild(l),p.style.overflow=i),!!g},C=function(b){var c=a.matchMedia||a.msMatchMedia;if(c)return c(b).matches;var d;return B("@media "+b+" { #"+q+" { position: absolute; } }",function(b){d="absolute"==(a.getComputedStyle?getComputedStyle(b,null):b.currentStyle).position}),d},D={}.hasOwnProperty;l=e(D,"undefined")||e(D.call,"undefined")?function(a,b){return b in a&&e(a.constructor.prototype[b],"undefined")}:function(a,b){return D.call(a,b)},Function.prototype.bind||(Function.prototype.bind=function(a){var b=this;if("function"!=typeof b)throw new TypeError;var c=A.call(arguments,1),d=function(){if(this instanceof d){var e=function(){};e.prototype=b.prototype;var f=new e,g=b.apply(f,c.concat(A.call(arguments)));return Object(g)===g?g:f}return b.apply(a,c.concat(A.call(arguments)))};return d}),y.rgba=function(){return d("background-color:rgba(150,255,150,.5)"),f(s.backgroundColor,"rgba")},y.fontface=function(){var a;return B('@font-face {font-family:"font";src:url("https://")}',function(c,d){var e=b.getElementById("smodernizr"),f=e.sheet||e.styleSheet,g=f?f.cssRules&&f.cssRules[0]?f.cssRules[0].cssText:f.cssText||"":"";a=/src/i.test(g)&&0===g.indexOf(d.split(" ")[0])}),a},y.svg=function(){return!!b.createElementNS&&!!b.createElementNS(x.svg,"svg").createSVGRect};for(var E in y)l(y,E)&&(k=E.toLowerCase(),n[k]=y[E](),z.push((n[k]?"":"no-")+k));return n.addTest=function(a,b){if("object"==typeof a)for(var d in a)l(a,d)&&n.addTest(d,a[d]);else{if(a=a.toLowerCase(),n[a]!==c)return n;b="function"==typeof b?b():b,"undefined"!=typeof o&&o&&(p.className+=" "+(b?"":"no-")+a),n[a]=b}return n},d(""),r=j=null,function(a,b){function c(a,b){var c=a.createElement("p"),d=a.getElementsByTagName("head")[0]||a.documentElement;return c.innerHTML="x<style>"+b+"</style>",d.insertBefore(c.lastChild,d.firstChild)}function d(){var a=s.elements;return"string"==typeof a?a.split(" "):a}function e(a){var b=r[a[p]];return b||(b={},q++,a[p]=q,r[q]=b),b}function f(a,c,d){if(c||(c=b),k)return c.createElement(a);d||(d=e(c));var f;return f=d.cache[a]?d.cache[a].cloneNode():o.test(a)?(d.cache[a]=d.createElem(a)).cloneNode():d.createElem(a),!f.canHaveChildren||n.test(a)||f.tagUrn?f:d.frag.appendChild(f)}function g(a,c){if(a||(a=b),k)return a.createDocumentFragment();c=c||e(a);for(var f=c.frag.cloneNode(),g=0,h=d(),i=h.length;i>g;g++)f.createElement(h[g]);return f}function h(a,b){b.cache||(b.cache={},b.createElem=a.createElement,b.createFrag=a.createDocumentFragment,b.frag=b.createFrag()),a.createElement=function(c){return s.shivMethods?f(c,a,b):b.createElem(c)},a.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+d().join().replace(/[\w\-]+/g,function(a){return b.createElem(a),b.frag.createElement(a),'c("'+a+'")'})+");return n}")(s,b.frag)}function i(a){a||(a=b);var d=e(a);return s.shivCSS&&!j&&!d.hasCSS&&(d.hasCSS=!!c(a,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),k||h(a,d),a}var j,k,l="3.7.0",m=a.html5||{},n=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,o=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,p="_html5shiv",q=0,r={};!function(){try{var a=b.createElement("a");a.innerHTML="<xyz></xyz>",j="hidden"in a,k=1==a.childNodes.length||function(){b.createElement("a");var a=b.createDocumentFragment();return"undefined"==typeof a.cloneNode||"undefined"==typeof a.createDocumentFragment||"undefined"==typeof a.createElement}()}catch(c){j=!0,k=!0}}();var s={elements:m.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",version:l,shivCSS:m.shivCSS!==!1,supportsUnknownElements:k,shivMethods:m.shivMethods!==!1,type:"default",shivDocument:i,createElement:f,createDocumentFragment:g};a.html5=s,i(b)}(this,b),n._version=m,n._prefixes=t,n._domPrefixes=w,n._cssomPrefixes=v,n.mq=C,n.testProp=function(a){return g([a])},n.testAllProps=i,n.testStyles=B,p.className=p.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(o?" js "+z.join(" "):""),n}(this,this.document),function(a){"use strict";function b(){a.widget("ui.autosearch",a.ui.autocomplete,{_renderMenu:function(b,c){var d=this,e=c.filter(function(a,b){return"false"==a.related?b:void 0}),f=c.filter(function(a,b){return"false"!=a.related?b:void 0});a.each(e,function(a,c){d._renderItemData(b,c)}),this.options.showRelated&&f.length&&(this.options.relatedHeader&&d._renderHeader(b,this.options.relatedHeader),a.each(f,function(a,c){d._renderItemData(b,c)}))},_renderItemData:function(a,b){return this._renderItem(a,b).data("ui-autocomplete-item",b)},_renderItem:function(b,c){var d=c.label,e=c.value,f="(?![^&;]+;)(?!<[^<>]*)("+a.ui.autocomplete.escapeRegex(this.term)+")(?![^<>]*>)(?![^&;]+;)";return d="<a href='"+e+"'>"+d.replace(new RegExp(f,"gi"),"<strong>$1</strong>")+"</a>",a("<li></li>").data("item.autocomplete",c).append(d).appendTo(b)},_renderHeader:function(b,c){return a("<li></li>").append("<a href=''>"+c+"</a>").appendTo(b)}});var b="";a("#wsu-search input#searchterm[type=text]").autosearch({source:function(c,d){b=c.term,a.ajax({url:"http://search.wsu.edu/2013service/searchservice/search.asmx/AZSearch",dataType:"jsonp",data:{featureClass:"P",style:"full",maxRows:12,name_startsWith:c.term},success:function(b){var e=new RegExp(a.ui.autocomplete.escapeRegex(c.term),"i");d(a.map(b,function(a){var b=a.label;return a.value&&(!c.term||e.test(b))||"true"==a.related?{label:a.label,value:a.value,searchKeywords:a.searchKeywords,related:a.related}:void 0}))}})},search:function(){},appendTo:"#index-search-results",showRelated:!0,relatedHeader:"<hr/>",minLength:2,select:function(b,c){c.item.searchKeywords,c.item.label;a("#indices").empty(),a("#wsu-search input#searchterm[type=text]").autocomplete("close")},focus:function(){},open:function(){}}).data("autocomplete")}a(document).ready(function(){function c(){window.print()}function d(){a("html").toggleClass("print"),a(".print-controls").remove()}function e(b){b.preventDefault(),a("#wsu-actions *.opened").toggleClass("opened closed"),a("html").toggleClass("print"),a("#spine header").append(q),a("#print-invoke").on("click",function(){window.print()}),a("#print-cancel").on("click",d),setTimeout(function(){c()},400)}a("#spine #glue > header").append('<button id="shelve"></button>'),a("#shelve").click(function(){a("#spine").toggleClass("unshelved shelved")});var f='<section id="wsu-share" class="tools closed">';if(f+="	<ul>",f+='		<li class="by-facebook"><a href="#" class="addthis_button_facebook"><i class="wsu-icon"></i>Facebook</a></li>',f+='		<li class="by-twitter"><a href="#" class="addthis_button_twitter"><i class="wsu-icon"></i>Twitter</a></li>',f+='		<li class="by-email"><a href="#" class="addthis_button_email"><i class="wsu-icon"></i>Email</a></li>',f+='		<!--<li class="by-gmail"><a href="#" class="addthis_button_gplus"><i class="wsu-icon"></i>Google Plus</a></li>-->',f+='		<!--<li class="by-gmail"><a href="#" class="addthis_button_linkedin"><i class="wsu-icon"></i>LinkedIn</a></li>-->',f+='		<!--<li class="by-other"><a href="#" class="addthis_button_compact"><i class="wsu-icon"></i>More Options ...</a></li>-->',f+="	</ul>",f+="</section>",a("#wsu-share").length||a("#wsu-actions").append(f),!a("#wsu-contact").length){var g=a('meta[itemprop="name"]').attr("content"),h=a('meta[itemprop="department"]').attr("content"),i=a('meta[itemprop="url"]').attr("content"),j=a('meta[itemprop="streetAddress"]').attr("content"),k=a('meta[itemprop="addressLocality"]').attr("content"),l=(a('meta[itemprop="postalCode"]').attr("content"),a('meta[itemprop="telephone"]').attr("content")),m=a('meta[itemprop="email"]').attr("content"),n=a('meta[itemprop="ContactPoint"]').attr("title"),o=a('meta[itemprop="ContactPoint"]').attr("content"),p='<section id="wsu-contact" class="tools closed">';p+='<address class="hcard">',p+='	<div class="organization-unit fn org"><a href="'+i+'" class="url">'+h+"</a></div>",p+='	<div class="organization-name">'+g+"</div>",p+='	<div class="address">',p+='		<div class="street-address">'+j+"</div>",p+='		<div class="locality">'+k+"</div>",p+="	</div>",p+='	<div class="tel"><i class="wsu-icon"></i>'+l+"</div>",p+='	<div class="email" rel="email"><a href="mailto:'+m+'"><i class="wsu-icon"></i>Email us</a></div>',"undefined"!=typeof o&&(p+='	<div class="more"><a href="'+o+'"><i class="wsu-icon"></i>'+n+"</a></div>"),p+="</address>",p+="</section>",a("#wsu-actions").append(p)}a("#wsu-share-tab button").on("click",function(b){b.preventDefault(),a("#wsu-actions *.opened,#wsu-share,#wsu-share-tab").toggleClass("opened closed")}),a("#wsu-search-tab button").on("click",function(b){b.preventDefault(),a("#wsu-actions *.opened,#wsu-search,#wsu-search-tab").toggleClass("opened closed"),a("#spine section#wsu-search input").focus()}),a("#wsu-contact-tab button").on("click",function(b){b.preventDefault(),a("#wsu-actions *.opened,#wsu-contact,#wsu-contact-tab").toggleClass("opened closed")});var q='<span class="print-controls"><button id="print-invoke">Print</button><button id="print-cancel">Cancel</button></span>';a("#wsu-print-tab button").click(e),a("button.shut").on("click",function(b){b.preventDefault(),a("#wsu-actions").find(".opened").toggleClass("opened closed")}),a("#wsu-search form").submit(function(){var b=a("#wsu-search").attr("data-default");if("site-search"==b)var c=" site:"+location.hostname,c=" site:admission.wsu.edu";else var c="";var d="cx=004677039204386950923:xvo7gapmrrg",e="cof=FORID%3A11",f=a("#wsu-search input").val(),g="http://search.wsu.edu/default.aspx?"+d+"&"+e+"&q="+f+c;return window.location.href=g,!1}),a(document).scroll(function(){var b=a(document).scrollTop();b>49?a("#spine").not(".unshelved").addClass("scanned"):a("#spine").removeClass("scanned")}),a("#spine nav ul,#spine ul").parents("li").addClass("parent"),a("#spine nav li[class*=current], nav li[class*=active]").addClass("active").parents("li").addClass("active"),a("#spine .active").not(":has(.active)").addClass("dogeared"),a("#spine li.parent > a").on("click",function(b){b.preventDefault(),a(this).parent("li").siblings().removeClass("opened"),a(this).parent("li").toggleClass("opened")}),a("#spine li.parent > a").each(function(){var b="Overview";if(a(this).attr("title")){var c=a(this).attr("title").length;c>0&&(b=a(this).attr("title"))}if(a(this).closest(".parent").hasClass("dogeared"))var d="overview dogeared";else var d="overview";var e=a(this).attr("href");"#"!=e&&a(this).parent("li").children("ul").prepend('<li class="'+d+'"><a href="'+e+'">'+b+"</a></li>")}),a("main").on("click swipeleft",function(){a("#spine").hasClass("unshelved")&&a("#spine").toggleClass("shelved unshelved")}),a(window).on("load resize scroll mouseup touchend",function(){var b=a("#spine footer").height(),c=window.innerHeight-b-50,d=a("#glue").height();d>c?a("#spine").removeClass("uncracked").addClass("cracked"):a("#spine").removeClass("cracked").addClass("uncracked")}),a(document).scroll(function(){var b=window.innerHeight,c=a(document).scrollTop(),d=a("#glue").height(),e=d-b;c>e?a("#spine.cracked").addClass("scrolled"):a("#spine.cracked").removeClass("scrolled")}),a("nav#site a").filter(function(){return this.hostname&&this.hostname!==location.hostname}).addClass("external");var r=a(window).width();r>=1188?a("#binder").addClass("xlarge").removeClass("medium small small-medium large"):r>=990?a("#binder").addClass("large").removeClass("medium small small-medium xlarge"):990>r&&r>=792?a("#binder").addClass("medium").removeClass("xlarge large small small-medium"):r>=694&&792>r&&a("#binder").hasClass("fixed")?a("#binder").addClass("small-medium").removeClass("xlarge large small medium"):792>r&&a("#binder").addClass("small").removeClass("xlarge large medium small-medium"),a(window).resize(function(){var b=a(window).width();b>=1188?a("#binder").addClass("xlarge").removeClass("medium small large small-medium"):b>=990?a("#binder").addClass("large").removeClass("medium small xlarge small-medium"):990>b&&b>=792?a("#binder").addClass("medium").removeClass("xlarge large small small-medium"):b>=694&&792>b&&a("#binder").hasClass("fixed")?a("#binder").addClass("small-medium").removeClass("xlarge large small medium"):792>b&&a("#binder").addClass("small").removeClass("xlarge large medium small-medium")}),a('.large .row:not(".unequaled"), .xlarge .row:not(".unequaled")').each(function(){var b=0;a(".column",this).each(function(){a(this).height()>b&&(b=a(this).height())}),a(".column",this).not(".unequaled").css("min-height",b)}),b()})}(jQuery);