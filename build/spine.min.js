/*! wsu-spine 0.1.0 2014-02-18 */
/*  See https://github.com/washingtonstateuniversity/WSU-spine/ for full source.*/
function dump(a,b){var c,d,e,f,g="";for(b||(b=0),c="",d=0;b+1>d;d++)c+=" ";if("object"==typeof a)for(e in a)f=a[e],"object"==typeof f?(g+=c+"'"+e+"' ...\n",g+=dump(f,b+1)):g+=c+"'"+e+"' => \""+f+'"\n';else g="===>"+a+"<===("+typeof a+")";return g}!function(a){"use strict";a.widget("ui.autosearch",a.ui.autocomplete,{_renderMenu:function(b,c){var d=this,e=c.filter(function(a,b){return"false"==a.related?b:void 0}),f=c.filter(function(a,b){return"false"!=a.related?b:void 0});a.each(e,function(a,c){d._renderItemData(b,c)}),this.options.showRelated&&f.length&&(this.options.relatedHeader&&d._renderHeader(b,this.options.relatedHeader),a.each(f,function(a,c){d._renderItemData(b,c)}))},_renderItemData:function(a,b){return this._renderItem(a,b).data("ui-autocomplete-item",b)},_renderItem:function(b,c){var d=c.label,e=c.value,f="(?![^&;]+;)(?!<[^<>]*)("+a.ui.autocomplete.escapeRegex(this.term)+")(?![^<>]*>)(?![^&;]+;)";return d="<a href='"+e+"'>"+d.replace(new RegExp(f,"gi"),"<strong>$1</strong>")+"</a>",a("<li></li>").data("item.autocomplete",c).append(d).appendTo(b)},_renderHeader:function(b,c){return a("<li></li>").append("<a href=''>"+c+"</a>").appendTo(b)}})}(jQuery),function(a,b,c,d){a.s=function(b,c){var d=b.split(".")[0];b=b.split(".")[1],a[d]=a[d]||{},a[d][b]=function(a,b){arguments.length&&this._setup(a,b)},a[d][b].prototype=a.extend({namespace:d,pluginName:b},c),a.fn[b]=function(c){this.elem=elem,this.$elem=a(elem),this.options=c,this.metadata=this.$elem.data("plugin-options"),this.config=a.extend({},this.defaults,this.options,this.metadata);var e="string"==typeof c,f=Array.prototype.slice.call(arguments,1),g=this;return e&&"_"===c.substring(0,1)?g:(this.each(function(){var h=a.data(this,b);h||(h=a.data(this,b,new a[d][b](c,this))),e&&(g=h[c].apply(h,f))}),g)}},a.s("ui.spine",{defaults:{message:"Hello world!"},_setup:function(b,c){this.el=c,b=b||{},a.extend(this.options,b,{}),this._create(),this._init&&this._init()},_create:function(){var a=this;this.instance={spine:a.options,search:[],framework:[],social:[],analytics:[]},a._call(a.options.callback,a.instance.spine)},clear:function(a){return this._c(this.get(a)),this.set(a,[]),this},_c:function(a){for(var b in a)a.hasOwnProperty(b)&&(a[b]=null)},find:function(b,c,d){var e=this.get(TAX);c.value=a.isArray(c.value)?c.value:[c.value];for(var f in e)if(e.hasOwnProperty(f)){var g=!1;for(var h in c.value)if(a.inArray(c.value[h],e[f][c.property])>-1)g=!0;else if(c.operator&&"AND"===c.operator){g=!1;break}d(e[f],g)}return this},get:function(a,b){var c=this.instance;if(!c[a]){if(a.indexOf(">")>-1){for(var d=a.replace(/ /g,"").split(">"),e=0;e<d.length;e++){if(!c[d[e]]){if(!b)return null;c[d[e]]=e+1<d.length?[]:b}c=c[d[e]]}return c}b&&!c[a]&&this.set(a,b)}return c[a]},set:function(a,b){return this.instance[a]=b,this},_unwrap:function(b){return b?b instanceof jQuery?b[0]:b instanceof Object?b:a("#"+b)[0]:null},_call:function(b){b&&a.isFunction(b)&&b.apply(this,Array.prototype.slice.call(arguments,1))},clear_map:function(){this.clear("search").clear("framework").clear("social").clear("analytics")},destroy:function(b){this.clear("search").clear("framework").clear("social").clear("analytics")._c(this.instance),a.removeData(this.el,this.name),this._call(b,this)}}),a.spine=function(c){var e=this.jquery===d?a(b):this;return a.each(e,function(){a.spine(this,c)})},b.SPINE=SPINE}(jQuery,window,document),function(a){a.extend(a.ui.spine.prototype,{foo:function(a){return a},_init:function(){function b(){window.print()}function c(){a("html").toggleClass("print"),a(".print-controls").remove()}function d(d){void 0!==d&&d.preventDefault(),f.find(".opened").toggleClass("opened closed"),a("html").toggleClass("print"),g.find("header").prepend(v),g.find(".unshelved").removeClass("unshelved").addClass("shelved"),a("#print-invoke").on("click",function(){window.print()}),a("#print-cancel").on("click",c),setTimeout(function(){b()},400)}var e=window.location.href,f=a("#wsu-actions"),g=a("#spine"),h=(a("#wsu-search"),a("#wsu-contact"),a("#wsu-share"));if(!h.length){if(a("meta.share-text").length)var i=a("meta.share-text");else i="You should know ...";var j='<section id="wsu-share" class="spine-share tools closed">';j+="	<ul>",j+='		<li class="by-facebook"><a href="http://www.facebook.com/sharer/sharer.php?u='+e+'">Facebook</a></li>',j+='		<li class="by-twitter"><a href="https://twitter.com/intent/tweet?text='+i+"&url="+e+'&via=wsupullman" target="_blank">Twitter</a></li>',j+='		<li class="by-email"><a href="mailto:?subject='+i+"&body="+e+'">Email</a></li>',j+='		<!--<li class="by-gmail"><a href="https://plusone.google.com/_/+1/confirm?hl=en&url='+e+'">Google+</a></li>-->',j+='		<!--<li class="by-linkedin"><a href="http://www.linkedin.com/shareArticle?mini=true&url='+e+'&title=articleTitle&summary=articleSummary&source=articleSource">LinkedIn</a></li>-->',j+='		<!--<li class="by-pinterest"><a href="http://pinterest.com/pin/create/button/?url=""title="Pinterest">Pinterest</a></li>-->',j+="	</ul>",j+="</section>",f.append(j)}if(!a("#wsu-contact").length){var k=a('meta[itemprop="name"]').attr("content"),l=a('meta[itemprop="department"]').attr("content"),m=a('meta[itemprop="url"]').attr("content"),n=a('meta[itemprop="streetAddress"]').attr("content"),o=a('meta[itemprop="addressLocality"]').attr("content"),p=a('meta[itemprop="postalCode"]').attr("content"),q=a('meta[itemprop="telephone"]').attr("content"),r=a('meta[itemprop="email"]').attr("content"),s=a('meta[itemprop="ContactPoint"]').attr("title"),t=a('meta[itemprop="ContactPoint"]').attr("content"),u='<section id="wsu-contact" class="spine-contact tools closed">';u+='<address itemscope itemtype="http://schema.org/Organization" class="hcard">',u+='	<div class="organization-unit fn org"><a href="'+m+'" class="url">'+l+"</a></div>",u+='	<div class="organization-name">'+k+"</div>",u+='	<div class="address">',u+='		<div class="street-address">'+n+"</div>",u+='		<div class="locality">'+o+' <span class="postalcode">'+p+"</span></div>",u+="	</div>",u+='	<div class="tel"><i class="wsu-icon"></i>'+q+"</div>",u+='	<div class="email" rel="email"><a href="mailto:'+r+'"><i class="wsu-icon"></i>Email us</a></div>',"undefined"!=typeof t&&(u+='	<div class="more"><a href="'+t+'"><i class="wsu-icon"></i>'+s+"</a></div>"),u+="</address>",u+="</section>",f.append(u)}a("#wsu-share-tab button").on("click",function(b){b.preventDefault(),a("#wsu-actions *.opened,#wsu-share,#wsu-share-tab").toggleClass("opened closed")}),a("#wsu-search-tab button").on("click",function(b){b.preventDefault(),a("#wsu-actions *.opened,#wsu-search,#wsu-search-tab").toggleClass("opened closed"),a("#spine section#wsu-search input").focus()}),a("#wsu-contact-tab button").on("click",function(b){b.preventDefault(),a("#wsu-actions *.opened,#wsu-contact,#wsu-contact-tab").toggleClass("opened closed")});var v='<span class="print-controls"><button id="print-invoke">Print</button><button id="print-cancel">Cancel</button></span>';a("#wsu-print-tab button").click(d),a("button.shut").on("click",function(a){a.preventDefault(),f.find(".opened").toggleClass("opened closed")}),a(document).scroll(function(){var b=a(document).scrollTop();b>49?g.not(".unshelved").addClass("scanned"):g.removeClass("scanned")}),a("#spine nav ul,#spine ul").parents("li").addClass("parent"),a("#spine nav li[class*=current], nav li[class*=active]").addClass("active").parents("li").addClass("active"),a("#spine nav li a[class*=current], nav li a[class*=active]").parents("li").addClass("active"),a("#spine .active").not(":has(.active)").addClass("dogeared"),a("#spine nav li.parent > a").on("click",function(b){b.preventDefault(),a(this).parent("li").siblings().removeClass("opened"),a(this).parent("li").toggleClass("opened")}),a("#spine nav li.parent > a").each(function(){var b="Overview";if(a(this).attr("title")){var c=a(this).attr("title").length;c>0&&(b=a(this).attr("title"))}if(a(this).closest(".parent").hasClass("dogeared"))var d="overview dogeared";else var d="overview";var e=a(this).attr("href");"#"!=e&&a(this).parent("li").children("ul").prepend('<li class="'+d+'"><a href="'+e+'">'+b+"</a></li>")}),a("main").on("click swipeleft",function(){g.hasClass("unshelved")&&g.toggleClass("shelved unshelved")}),a(window).on("load resize scroll mouseup touchend",function(){var b=a("#spine footer").height(),c=window.innerHeight-b-50,d=a("#glue").height();d>c?g.removeClass("uncracked").addClass("cracked"):g.removeClass("cracked").addClass("uncracked")}),a(document).scroll(function(){var b=window.innerHeight,c=a(document).scrollTop(),d=a("#glue").height(),e=d-b;c>e?a("#spine.cracked").addClass("scrolled"):a("#spine.cracked").removeClass("scrolled")}),a("nav#spine-sitenav a").filter(function(){return this.hostname&&this.hostname!==location.hostname}).addClass("external"),this.sizing(),this.equalizing(),this.mainheight(),a(window).resize(function(){this.sizing(),this.equalizing(),this.mainheight()}),a(window).on("load resize",function(){var b=a("main");if(a(".unbound").length){var c=b.offset().left,d=b.offset().right,e=a(window).width(),f=b.width(),d=e-b.offset().left;if(d>=f)var g=d-f;else g=0;var h=c+b.width();a(".unbound.recto").css("width",d).css("margin-right",-g),a(".unbound.verso").css("width",h).css("margin-left",-c),a(".unbound.verso.recto").css("width",e)}})},sizing:function(b){b=b||a("#jacket");var c=a(window).width();c>=1188?b.removeClass("size-small size-medium size-large size-xlarge size-lt-xlarge size-lt-large size-lt-medium size-lt-smallish size-gt-large size-gt-medium size-gt-smallish size-gt-small").removeClass("size-small size-medium size-large size-xlarge size-lt-xlarge size-lt-large size-lt-medium size-lt-smallish size-gt-large size-gt-medium size-gt-smallish size-gt-small").addClass("size-xlarge size-gt-small size-gt-smallish size-gt-medium size-gt-large"):c>=990?b.removeClass("size-small size-medium size-large size-xlarge size-lt-xlarge size-lt-large size-lt-medium size-lt-smallish size-gt-large size-gt-medium size-gt-smallish size-gt-small").addClass("size-large size-lt-xlarge size-gt-small size-gt-smallish size-gt-medium"):990>c&&c>=792?b.removeClass("size-small size-medium size-large size-xlarge size-lt-xlarge size-lt-large size-lt-medium size-lt-smallish size-gt-large size-gt-medium size-gt-smallish size-gt-small").addClass("size-medium size-lt-xlarge size-lt-large size-gt-smallish size-gt-small"):c>=694&&792>c&&a("#binder").hasClass("fixed")?b.removeClass("size-small size-medium size-large size-xlarge size-lt-xlarge size-lt-large size-lt-medium size-lt-smallish size-gt-large size-gt-medium size-gt-smallish size-gt-small").addClass("size-smallish size-lt-medium size-lt-large size-lt-xlarge size-gt-small"):792>c?b.removeClass("size-small size-medium size-large size-xlarge size-lt-xlarge size-lt-large size-lt-medium size-lt-smallish size-gt-large size-gt-medium size-gt-smallish size-gt-small").addClass("size-small size-lt-smallish size-lt-medium size-lt-large size-lt-xlarge"):396>c&&b.removeClass("size-small size-medium size-large size-xlarge size-lt-xlarge size-lt-large size-lt-medium size-lt-smallish size-gt-large size-gt-medium size-gt-smallish size-gt-small").addClass("size-small size-lt-small size-lt-smallish size-lt-medium size-lt-large size-lt-xlarge")},equalizing:function(){if(a(".equalize").length){var b=a(".row.equalize");b.find(".column").css("min-height",""),a.each(b,function(){var b=0;a.each(a(".column",this),function(){a(this).height()>b&&(b=a(this).outerHeight())}),a(".column",this).not(".unequaled").css("min-height",b),a("section.equalize .column",this).css("min-height","auto")})}},mainheight:function(){var b=(a("main").offset().top,a(window).height());if(a("#binder").hasClass("size-lt-large"))var c=b-50;else var c=b;a("main.fill-window-height").css("min-height",c)}})}(jQuery),function(a){a.extend(a.ui.spine.prototype,{foo:function(a){return a},_init:function(){{var b=(window.location.href,a("#wsu-actions")),c=a("#spine"),d=a("#wsu-search");a("#wsu-contact"),a("#wsu-share")}if(a("#glue > header").append('<button id="shelve"></button>'),a("#shelve").click(function(){c.toggleClass("unshelved shelved")}),!d.length){var e='<section id="wsu-search" class="spine-search tools closed" data-default="site-search">';e+='		<form id="default-search">',e+='			<input name="term" type="text" value="" placeholder="search">',e+="			<button>Submit</button>",e+="		</form>",e+='		<div id="spine-shortcuts"></div>',e+="</section>",b.append(e),a("#wsu-search form").submit(function(){var b=a("#wsu-search").attr("data-default");if("site-search"==b)var c=" site:"+location.hostname;else var c="";var d="cx=004677039204386950923:xvo7gapmrrg",e="cof=FORID%3A11",f=a("#wsu-search input").val(),g="http://search.wsu.edu/default.aspx?"+d+"&"+e+"&q="+f+c;return window.location.href=g,!1})}},setup_search:function(){var b="";a("#wsu-search input[type=text]").autosearch({source:function(c,d){b=c.term,a.ajax({url:"http://search.wsu.edu/2013service/searchservice/search.asmx/AZSearch",dataType:"jsonp",data:{featureClass:"P",style:"full",maxRows:12,name_startsWith:c.term},success:function(b){var e=new RegExp(a.ui.autocomplete.escapeRegex(c.term),"i");d(a.map(b,function(a){var b=a.label;return a.value&&(!c.term||e.test(b))||"true"==a.related?{label:a.label,value:a.value,searchKeywords:a.searchKeywords,related:a.related}:void 0}))}})},search:function(){},appendTo:"#spine-shortcuts",showRelated:!0,relatedHeader:"<hr/>",minLength:2,select:function(b,c){c.item.searchKeywords,c.item.label;a("#indices").empty(),a("#wsu-search input#searchterm[type=text]").autocomplete("close")},focus:function(){},open:function(){}}).data("autocomplete")}})}(jQuery),function(a){"use strict";a(document).ready(function(){a.spine({search:{providers:{local:{url:"http://search.wsu.edu/2013service/searchservice/search.asmx/AZSearch",dataType:"jsonp",featureClass:"P",style:"full",maxRows:12}},result:{appendTo:"#spine-shortcuts",showRelated:!0,relatedHeader:"<hr/>",minLength:2}},framework:{},social:{},analytics:{}})})}(jQuery);